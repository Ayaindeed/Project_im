{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{getEntrepriseStats}from'../services/entrepriseService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EntrepriseDashboard=()=>{const[stats,setStats]=useState({totalStages:0,candidaturesEnAttente:0,stagesActifs:0});const[isLoading,setIsLoading]=useState(false);const user=JSON.parse(localStorage.getItem('user'));useEffect(()=>{const fetchStats=async()=>{setIsLoading(true);try{const data=await getEntrepriseStats();setStats(data);}catch(error){console.error('Error fetching stats:',error);}finally{setIsLoading(false);}};fetchStats();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tableau de bord Entreprise\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"welcome-text\",children:[\"Bienvenue, \",user===null||user===void 0?void 0:user.nom]})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Chargement...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Mes Offres de Stage\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat\",children:stats.totalStages}),/*#__PURE__*/_jsx(Link,{to:\"/mes-stages\",className:\"card-link\",children:\"G\\xE9rer mes offres \\u2192\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Candidatures en Attente\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat\",children:stats.candidaturesEnAttente}),/*#__PURE__*/_jsx(Link,{to:\"/entreprise-candidatures\",className:\"card-link\",children:\"Voir les candidatures \\u2192\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Nouvelle Offre\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Publiez une nouvelle offre de stage\"}),/*#__PURE__*/_jsx(Link,{to:\"/submit-stage\",className:\"btn btn-primary\",children:\"Cr\\xE9er une offre\"})]})]})]});};export default EntrepriseDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","getEntrepriseStats","jsx","_jsx","jsxs","_jsxs","EntrepriseDashboard","stats","setStats","totalStages","candidaturesEnAttente","stagesActifs","isLoading","setIsLoading","user","JSON","parse","localStorage","getItem","fetchStats","data","error","console","className","children","nom","to"],"sources":["C:/Users/hp/Downloads/Project_/internship-management-app/frontend/src/pages/EntrepriseDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getEntrepriseStats } from '../services/entrepriseService';\r\n\r\nconst EntrepriseDashboard = () => {\r\n  const [stats, setStats] = useState({\r\n    totalStages: 0,\r\n    candidaturesEnAttente: 0,\r\n    stagesActifs: 0\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const data = await getEntrepriseStats();\r\n        setStats(data);\r\n      } catch (error) {\r\n        console.error('Error fetching stats:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchStats();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <div className=\"dashboard-header\">\r\n        <h1>Tableau de bord Entreprise</h1>\r\n        <p className=\"welcome-text\">Bienvenue, {user?.nom}</p>\r\n      </div>\r\n\r\n      {isLoading ? (\r\n        <div className=\"loading\">Chargement...</div>\r\n      ) : (\r\n        <div className=\"dashboard-grid\">\r\n          <div className=\"dashboard-card\">\r\n            <h3>Mes Offres de Stage</h3>\r\n            <p className=\"stat\">{stats.totalStages}</p>\r\n            <Link to=\"/mes-stages\" className=\"card-link\">\r\n              Gérer mes offres →\r\n            </Link>\r\n          </div>\r\n\r\n          <div className=\"dashboard-card\">\r\n            <h3>Candidatures en Attente</h3>\r\n            <p className=\"stat\">{stats.candidaturesEnAttente}</p>\r\n            <Link to=\"/entreprise-candidatures\" className=\"card-link\">\r\n              Voir les candidatures →\r\n            </Link>\r\n          </div>\r\n\r\n          <div className=\"dashboard-card\">\r\n            <h3>Nouvelle Offre</h3>\r\n            <p>Publiez une nouvelle offre de stage</p>\r\n            <Link to=\"/submit-stage\" className=\"btn btn-primary\">\r\n              Créer une offre\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EntrepriseDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}