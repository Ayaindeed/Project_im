{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\Project_\\\\internship-management-app\\\\frontend\\\\src\\\\components\\\\Auth\\\\Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { registerUser } from '../../services/api';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const [form, setForm] = useState({\n    nom: '',\n    prenom: '',\n    email: '',\n    motdepasse: '',\n    role: 'etudiant',\n    niveau: '',\n    filiere: '',\n    secteur: '',\n    adresse: ''\n  });\n  const [error, setError] = useState('');\n  const history = useHistory();\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleRoleChange = e => {\n    setForm({\n      ...form,\n      role: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    let data = {\n      nom: form.nom,\n      prenom: form.prenom,\n      email: form.email,\n      motdepasse: form.motdepasse,\n      role: form.role\n    };\n    if (form.role === 'etudiant') {\n      data.niveau = form.niveau;\n      data.filiere = form.filiere;\n    }\n    if (form.role === 'entreprise') {\n      data.secteur = form.secteur;\n      data.adresse = form.adresse;\n      // Ajoute d'autres champs requis si besoin\n    }\n    try {\n      await registerUser(data);\n      history.push('/login');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Erreur lors de l'inscription\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"nom\",\n      placeholder: \"Nom\",\n      value: form.nom,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"prenom\",\n      placeholder: \"Pr\\xE9nom\",\n      value: form.prenom,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email\",\n      value: form.email,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"motdepasse\",\n      type: \"password\",\n      placeholder: \"Mot de passe\",\n      value: form.motdepasse,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"role\",\n      value: form.role,\n      onChange: handleRoleChange,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"etudiant\",\n        children: \"\\xC9tudiant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"entreprise\",\n        children: \"Entreprise\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), form.role === 'etudiant' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"niveau\",\n        placeholder: \"Niveau\",\n        value: form.niveau,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"filiere\",\n        placeholder: \"Fili\\xE8re\",\n        value: form.filiere,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), form.role === 'entreprise' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"secteur\",\n        placeholder: \"Secteur\",\n        value: form.secteur,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"adresse\",\n        placeholder: \"Adresse\",\n        value: form.adresse,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Inscription\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"Jgwzq/BsWHUn5JYjb/DUXzYQMo8=\", false, function () {\n  return [useHistory];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","registerUser","useHistory","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","_s","form","setForm","nom","prenom","email","motdepasse","role","niveau","filiere","secteur","adresse","error","setError","history","handleChange","e","target","name","value","handleRoleChange","handleSubmit","preventDefault","data","push","err","_err$response","_err$response$data","response","message","onSubmit","children","placeholder","onChange","required","fileName","_jsxFileName","lineNumber","columnNumber","type","style","color","_c","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/Project_/internship-management-app/frontend/src/components/Auth/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { registerUser } from '../../services/api';\nimport { useHistory } from 'react-router-dom';\n\nconst Register = () => {\n  const [form, setForm] = useState({\n    nom: '',\n    prenom: '',\n    email: '',\n    motdepasse: '',\n    role: 'etudiant',\n    niveau: '',\n    filiere: '',\n    secteur: '',\n    adresse: ''\n  });\n  const [error, setError] = useState('');\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleRoleChange = (e) => {\n    setForm({ ...form, role: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    let data = {\n      nom: form.nom,\n      prenom: form.prenom,\n      email: form.email,\n      motdepasse: form.motdepasse,\n      role: form.role\n    };\n    if (form.role === 'etudiant') {\n      data.niveau = form.niveau;\n      data.filiere = form.filiere;\n    }\n    if (form.role === 'entreprise') {\n      data.secteur = form.secteur;\n      data.adresse = form.adresse;\n      // Ajoute d'autres champs requis si besoin\n    }\n    try {\n      await registerUser(data);\n      history.push('/login');\n    } catch (err) {\n      setError(err.response?.data?.message || \"Erreur lors de l'inscription\");\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input name=\"nom\" placeholder=\"Nom\" value={form.nom} onChange={handleChange} required />\n      <input name=\"prenom\" placeholder=\"Prénom\" value={form.prenom} onChange={handleChange} required />\n      <input name=\"email\" type=\"email\" placeholder=\"Email\" value={form.email} onChange={handleChange} required />\n      <input name=\"motdepasse\" type=\"password\" placeholder=\"Mot de passe\" value={form.motdepasse} onChange={handleChange} required />\n      <select name=\"role\" value={form.role} onChange={handleRoleChange}>\n        <option value=\"etudiant\">Étudiant</option>\n        <option value=\"entreprise\">Entreprise</option>\n      </select>\n      {form.role === 'etudiant' && (\n        <>\n          <input name=\"niveau\" placeholder=\"Niveau\" value={form.niveau} onChange={handleChange} required />\n          <input name=\"filiere\" placeholder=\"Filière\" value={form.filiere} onChange={handleChange} required />\n        </>\n      )}\n      {form.role === 'entreprise' && (\n        <>\n          <input name=\"secteur\" placeholder=\"Secteur\" value={form.secteur} onChange={handleChange} required />\n          <input name=\"adresse\" placeholder=\"Adresse\" value={form.adresse} onChange={handleChange} required />\n          {/* Ajoute d'autres champs requis ici si besoin */}\n        </>\n      )}\n      <button type=\"submit\">Inscription</button>\n      {error && <div style={{ color: 'red' }}>{error}</div>}\n    </form>\n  );\n};\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}